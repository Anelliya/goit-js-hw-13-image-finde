{"version":3,"sources":["webpack:///./template.hbs","webpack:///./index.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","alias1","lambda","alias2","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","nullContext","program","noop","pageNumber","searchQuery","inputRef","document","querySelector","galerryRef","loadMoreButtonRef","headers","imageSearch","queryInput","fetch","then","res","json","insertAdjacentHTML","createMarkUp","hits","newListItemNumber","newListItemrect","querySelectorAll","getBoundingClientRect","window","scrollTo","top","pageYOffset","behavior","newItemImage","addEventListener","instance","show","basicLightbox","catch","error","console","log","delayedSearch","_","debounce","event","innerHTML","classList","remove","target","value"],"mappings":"qGAAA,IAAIA,EAAa,EAAQ,QAEzBC,EAAOC,SAAWF,EAAoB,SAAKA,GAAYG,SAAS,CAAC,EAAI,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC5G,IAAIC,EAAOL,EAAUM,OAAQC,EAAOP,EAAUQ,iBAAkBC,EAAiBT,EAAUS,gBAAkB,SAASC,EAAQC,GAC1H,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,IAKtB,MAAO,mGACHJ,EAAOF,EAAkB,MAAVJ,EAAiBQ,EAAeR,EAAO,iBAAmBA,EAASA,IAClF,gDACAM,EAAOF,EAAkB,MAAVJ,EAAiBQ,EAAeR,EAAO,cAAgBA,EAASA,IAC/E,QACAM,EAAOF,EAAkB,MAAVJ,EAAiBQ,EAAeR,EAAO,MAAQA,EAASA,IACvE,mMACAM,EAAOF,EAAkB,MAAVJ,EAAiBQ,EAAeR,EAAO,SAAWA,EAASA,IAC1E,wHACAM,EAAOF,EAAkB,MAAVJ,EAAiBQ,EAAeR,EAAO,SAAWA,EAASA,IAC1E,kIACAM,EAAOF,EAAkB,MAAVJ,EAAiBQ,EAAeR,EAAO,YAAcA,EAASA,IAC7E,4HACAM,EAAOF,EAAkB,MAAVJ,EAAiBQ,EAAeR,EAAO,aAAeA,EAASA,IAC9E,2CACAM,EAAOF,EAAkB,MAAVJ,EAAiBQ,EAAeR,EAAO,WAAaA,EAASA,IAC5E,gHACJ,SAAW,CAAC,EAAE,YAAY,KAAO,SAASD,EAAUC,EAAOC,EAAQC,EAASC,GAC1E,IAAIY,EAON,OAA+R,OAAtRA,GAPsBhB,EAAUS,gBAAkB,SAASC,EAAQC,GACtE,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,KAKWT,EAAQ,QAAQa,KAAe,MAAVd,EAAiBA,EAAUD,EAAUiB,aAAe,GAAIhB,EAAO,CAAC,KAAO,OAAO,KAAO,GAAG,GAAKD,EAAUkB,QAAQ,EAAGd,EAAM,GAAG,QAAUJ,EAAUmB,KAAK,KAAOf,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,GAAG,IAAM,CAAC,KAAO,GAAG,OAAS,OAAiBY,EAAS,IAC3S,KACJ,SAAU,K,qFCtBRI,EACAC,E,iCAXEC,EAAWC,SAASC,cAAc,oBAClCC,EAAaF,SAASC,cAAc,mBAGpCE,GAFWH,SAASC,cAAc,iBAEdD,SAASC,cAAc,kBAC3CG,EACC,qCAWP,SAASC,EAAYC,EAAYT,GAC/BU,MAAM,sEACkED,EADnE,SACsFT,EADrF,oBAC4HO,GAE/HI,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAA3B,IATV,SAAsBA,GACpBqB,EAAWS,mBAAmB,YAAanC,IAASK,IAShD+B,CAAa/B,EAAKgC,MAClB,IAAIC,EAfK,IAegBjB,EAAa,GAIlCkB,EAHcf,SACfC,cAAc,YACde,iBAAiB,MAAMF,GACQG,wBAClCC,OAAOC,SAAS,CAEdC,IAAKF,OAAOG,YAAcN,EAAgBK,IAC1CE,SAAU,WAGZC,aAAaC,iBAAiB,QAASC,SAASC,WAEpDC,WAAuBC,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAIF,MAGpD,IAAMG,EAAgBC,EAAEC,UAAS,SAAAC,GAC/BjC,EAAWkC,UAAY,GACvBjC,EAAkBkC,UAAUC,OAAO,UAC9BH,EAAMI,OAAOC,QAGlB3C,EAAa,EAEbQ,EADAP,EAAcqC,EAAMI,OAAOC,MACF3C,MACxB,KAEHE,EAASyB,iBAAiB,QAASQ,GAOnC7B,EAAkBqB,iBAAiB,SALlB,WACfnB,EAAYP,EAAcD,GAAc,Q","file":"main.610e5dd667bb56d8bc01.js","sourcesContent":["var Handlebars = require(\"../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"photo-card\\\">\\n    <div>\\n        <div class=\\\"image-container\\\">\\n            <a href=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"largeImageURL\") : depth0), depth0))\n    + \"\\\" target=\\\"_blank\\\">\\n                <img src=\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"previewURL\") : depth0), depth0))\n    + \" alt=\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \" class=\\\"image\\\" />\\n            </a>\\n        </div>\\n\\n        <div class=\\\"stats\\\">\\n            <p class=\\\"stats-item\\\">\\n                <i class=\\\"material-icons\\\">thumb_up</i>\\n                \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"likes\") : depth0), depth0))\n    + \" </p>\\n            <p class=\\\"stats-item\\\">\\n                <i class=\\\"material-icons\\\">visibility</i>\\n                \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"views\") : depth0), depth0))\n    + \"\\n            </p>\\n            <p class=\\\"stats-item\\\">\\n                <i class=\\\"material-icons\\\">comment</i>\\n                \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"comments\") : depth0), depth0))\n    + \" </p>\\n            <p class=\\\"stats-item\\\">\\n                <i class=\\\"material-icons\\\">cloud_download</i>\\n                \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0), depth0))\n    + \"\\n            </p>\\n            <a href=\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"pageURL\") : depth0), depth0))\n    + \" target=\\\"_blank\\\">\\n                <p>more...</p>\\n            </a>\\n\\n        </div>\\n    </div>\\n</li>\\n\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":33,\"column\":9}}})) != null ? stack1 : \"\")\n    + \" \";\n},\"useData\":true});","import './styles.css';\nimport 'lodash';\nimport template from './template.hbs';\nimport * as basicLightbox from 'basiclightbox';\n\nconst inputRef = document.querySelector('[id=search-form]');\nconst galerryRef = document.querySelector('[class=gallery]');\nconst imageRef = document.querySelector('[class=image]');\n\nconst loadMoreButtonRef = document.querySelector('[id=js-button');\nconst headers = {\n  key: '19685928-f191ac91b9da632ea9a4b744f',\n};\n\nlet pageSize = 12;\nlet pageNumber;\nlet searchQuery;\n\nfunction createMarkUp(data) {\n  galerryRef.insertAdjacentHTML('beforeend', template(data));\n}\n\nfunction imageSearch(queryInput, pageNumber) {\n  fetch(\n    `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${queryInput}&page=${pageNumber}&per_page=${pageSize}&key=${headers.key}`,\n  )\n    .then(res => res.json())\n    .then(data => {\n      createMarkUp(data.hits);\n      let newListItemNumber = (pageNumber - 1) * pageSize;\n      let newListItem = document\n        .querySelector('.gallery')\n        .querySelectorAll('li')[newListItemNumber];\n      let newListItemrect = newListItem.getBoundingClientRect();\n      window.scrollTo({\n        //top: document.body.scrollHeight + inputRect.bottom,\n        top: window.pageYOffset + newListItemrect.top,\n        behavior: 'smooth',\n      });\n\n      newItemImage.addEventListener('focus', instance.show());\n    });\n  basicLightbox.create().catch(error => console.log(error));\n}\n\nconst delayedSearch = _.debounce(event => {\n  galerryRef.innerHTML = '';\n  loadMoreButtonRef.classList.remove('hidden');\n  if (!event.target.value) {\n    return;\n  }\n  pageNumber = 1;\n  searchQuery = event.target.value;\n  imageSearch(searchQuery, pageNumber);\n}, 1000);\n\ninputRef.addEventListener('input', delayedSearch);\n\nconst loadMore = () => {\n  imageSearch(searchQuery, (pageNumber += 1));\n};\n\n//imageRef.addEventListener('focus', );\nloadMoreButtonRef.addEventListener('click', loadMore);\n// console.log(imageRef);\n"],"sourceRoot":""}